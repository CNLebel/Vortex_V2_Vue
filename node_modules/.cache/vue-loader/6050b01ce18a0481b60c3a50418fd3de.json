{"remainingRequest":"H:\\Projects\\WebStorm\\vortex_v2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!H:\\Projects\\WebStorm\\vortex_v2\\src\\components\\users\\UserRegister.vue?vue&type=style&index=0&id=e364a836&lang=scss&scoped=true&","dependencies":[{"path":"H:\\Projects\\WebStorm\\vortex_v2\\src\\components\\users\\UserRegister.vue","mtime":1563801765941},{"path":"H:\\Projects\\WebStorm\\vortex_v2\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"H:\\Projects\\WebStorm\\vortex_v2\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"H:\\Projects\\WebStorm\\vortex_v2\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"H:\\Projects\\WebStorm\\vortex_v2\\node_modules\\sass-loader\\lib\\loader.js","mtime":1533139052000},{"path":"H:\\Projects\\WebStorm\\vortex_v2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\Projects\\WebStorm\\vortex_v2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.vortex_img{\n    margin: 33px auto;\n    display: flex;\n    justify-content: center;\n    img{\n        height: 125px;\n    }\n}\n\n.form_box{\n    width: 85%;\n    margin: auto;\n\n    .row_block{\n        border: #26a2ff 1px solid;\n        border-radius: 25px;\n        margin-bottom: 28px;\n        height: 45px; \n        display: flex;\n        justify-content: center;\n        .r_b_icon{\n            width: 22%;\n            height: 45px;\n            img{\n                width: 45px;\n                height: 45px;\n            }\n            display: flex;\n            justify-content: center;\n        }\n        .r_b_input{\n            height: 45px;\n            input{\n                background: 0 0;\n                border: none;\n            }\n        }\n\n        .r_b_img{\n            width: 78%;\n            .img_input{\n                width: 55%;\n                height: 45px;\n                input{\n                    background: 0 0;\n                    border: none;\n                }\n            }\n            .img_img{\n               \n                width: 45%;\n                height: 45px;\n                img{\n                    height: 45px;\n                }\n\n                display: flex;\n                justify-content: center;\n            }\n            display: flex;\n            justify-content: space-between;\n        }\n        .r_b_moblie{\n            width: 78%;\n            .mobile_input{\n                width: 55%;\n                height: 45px;\n                input{\n                    background: 0 0;\n                    border: none;\n                }\n            }\n            .mobile_button{\n                width: 45%;\n                height: 45px;\n                button{\n                    background: #F0F8FF;\n                    border: none;\n                }\n                display: flex;\n                justify-content: center;\n            }\n            display: flex;\n            justify-content: space-between;\n        }\n        \n    }\n    .r_b_target{\n        height: 50px;\n        margin: 15px auto;\n        display: flex;\n        justify-content:flex-end;\n    \n        p{\n            font-size: 16px;\n        }\n    \n    }\n    \n}\n",{"version":3,"sources":["UserRegister.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA","file":"UserRegister.vue","sourceRoot":"src/components/users","sourcesContent":["<template>\r\n    <div>\r\n\r\n        <div class=\"vortex_img\">\r\n            <img src=\"../../assets/users/register_vortex.png\" alt=\"\">\r\n        </div>\r\n\r\n        <div class=\"form_box\">\r\n            <form action=\"\">\r\n\r\n                <div class=\"mui-input-row row_block\">\r\n                    <div class=\"r_b_icon\">\r\n                        <img src=\"../../assets/users/register_moblie.png\" alt=\"\">\r\n                    </div>\r\n                    <div class=\"r_b_input\">\r\n                        <input type=\"text\" placeholder=\"手机号码\" v-model=\"phonecode\">\r\n                    </div>    \r\n                </div>\r\n\r\n                <div class=\"mui-input-row row_block\">\r\n                    <div class=\"r_b_icon\">\r\n                        <img src=\"../../assets/users/register_img.png\" alt=\"\">\r\n                    </div>\r\n\r\n                    <div class=\"r_b_img\">\r\n                        <div class=\"img_input\">\r\n                            <input type=\"text\" placeholder=\"图形验证\" v-model=\"image_code_text\">\r\n                        </div>\r\n                        <div class=\"img_img\">\r\n                            <img v-bind:src=\"img_url\" alt=\"\"  @click=\"getAgain\">\r\n                        </div>\r\n                    </div>\r\n                   \r\n                </div>\r\n\r\n                <div class=\"mui-input-row row_block\">\r\n                    <div class=\"r_b_icon\">\r\n                        <img src=\"../../assets/users/register_message.png\" alt=\"\">\r\n                    </div>\r\n                    <div class=\"r_b_moblie\">\r\n                        <div class=\"mobile_input\">\r\n                            <input type=\"text\" placeholder=\"短信验证\" v-model=\"smscode\">\r\n                        </div>\r\n                        <div class=\"mobile_button\">\r\n                            <button v-show=\"show_sms\" @click=\"getPhoneCode\">获取验证码</button>\r\n                            <button v-show=\"!show_sms\" @click=\"getPhoneCode\">{{ count }}s</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <div class=\"mui-input-row row_block\">\r\n                    <div class=\"r_b_icon\">\r\n                        <img src=\"../../assets/users/register_password.png\" alt=\"\">\r\n                    </div>\r\n                    <div class=\"r_b_input\">\r\n                        <input type=\"password\" placeholder=\"密       码\" v-model=\"password\">\r\n                    </div>    \r\n                </div>\r\n\r\n                <div class=\"mui-input-row row_block\">\r\n                    <div class=\"r_b_icon\">\r\n                        <img src=\"../../assets/users/register_password.png\" alt=\"\">\r\n                    </div>\r\n                    <div class=\"r_b_input\">\r\n                        <input type=\"password\" placeholder=\"确认密码\" v-model=\"password2\">\r\n                    </div>    \r\n                </div>\r\n\r\n                <mt-button type=\"primary\" size=\"large\" @click=\"userRegister\">立即注册</mt-button>\r\n                <div class=\"r_b_target\">\r\n                    <p>已有帐号，<router-link to=\"/login\">立即登录</router-link></p>   \r\n                </div>\r\n            </form>\r\n\r\n        </div>\r\n        \r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from \"mint-ui\";\r\nimport { setInterval } from 'timers';\r\n\r\nexport default {\r\n    \r\n    data(){\r\n        return {\r\n            phonecode: '',\r\n            code_id: '',\r\n            pcode_id: '',\r\n            img_url: '',\r\n            image_code_text: '',\r\n            count: '',\r\n            timer: null,\r\n            show_sms: true,\r\n            smscode: '',\r\n            password: '',\r\n            password2: '',\r\n        }\r\n    },\r\n    created() {\r\n        this.getImageCode();\r\n    },\r\n    methods:{\r\n        uuid() {\r\n            var s = [];\r\n            var hexDigits = \"0123456789abcdef\";\r\n            for(var i=0; i<36; i++){\r\n                s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\r\n            }\r\n            s[14] = \"4\";\r\n            s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\r\n            s[8] = s[13] = s[18] = s[23] = \"-\";\r\n            var uuid = s.join(\"\");\r\n            return uuid;\r\n        },\r\n        smsDisabling(){\r\n            const TIME_COUNT = 60;\r\n            if(!this.timer){\r\n                this.count = TIME_COUNT;\r\n                this.show_sms = false;\r\n                this.timer = setInterval(() => {\r\n                    if(this.count > 0 && this.count <= TIME_COUNT){\r\n                        this.count--;\r\n                    }else{\r\n                        this.show_sms = true;\r\n                        clearInterval(this.timer);\r\n                        this.timer = null;\r\n                    }\r\n                }, 1000)\r\n            }\r\n        },\r\n        getImageCode() {\r\n            this.code_id = this.uuid();\r\n            this.img_url = 'http://192.168.46.124:8000/api/imagecode?code_id='+ this.code_id + '&pcode_id=' + this.pcode_id;\r\n        },\r\n        getAgain(){\r\n            this.pcode_id = this.code_id;\r\n            this.code_id = this.uuid();\r\n            this.img_url = 'http://192.168.46.124:8000/api/imagecode?code_id='+ this.code_id + '&pcode_id=' + this.pcode_id;\r\n        }, \r\n        getPhoneCode(){\r\n            this.$http.post('api/smscode',{data:JSON.stringify({mobile:this.phonecode, \r\n                                                                image_code_id:this.code_id, \r\n                                                                image_code_text:this.image_code_text})}).then(result => {\r\n                if(result.body.errcode === '0'){\r\n                    this.smsDisabling();\r\n                    Toast('获取短信成功请留意查收!');\r\n                }else{\r\n                    Toast('获取短信验证码失败!');\r\n                }\r\n            })\r\n        },\r\n        userRegister() {\r\n            this.$http.post('api/register',{data:JSON.stringify({mobile:this.phonecode, smscode:this.smscode, password:this.password, password2:this.password2})}).then(result => {\r\n                if(result.body.errno === '0'){\r\n                    Toast('手机号注册成功!');\r\n                }else if(result.body.errno === '3'){\r\n                    Toast('手机号已注册!');\r\n                }else{\r\n                    Toast('手机号注册失败!');\r\n                }\r\n                console.log(result.body);\r\n            })\r\n        }\r\n        \r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    \r\n    .vortex_img{\r\n        margin: 33px auto;\r\n        display: flex;\r\n        justify-content: center;\r\n        img{\r\n            height: 125px;\r\n        }\r\n    }\r\n\r\n    .form_box{\r\n        width: 85%;\r\n        margin: auto;\r\n\r\n        .row_block{\r\n            border: #26a2ff 1px solid;\r\n            border-radius: 25px;\r\n            margin-bottom: 28px;\r\n            height: 45px; \r\n            display: flex;\r\n            justify-content: center;\r\n            .r_b_icon{\r\n                width: 22%;\r\n                height: 45px;\r\n                img{\r\n                    width: 45px;\r\n                    height: 45px;\r\n                }\r\n                display: flex;\r\n                justify-content: center;\r\n            }\r\n            .r_b_input{\r\n                height: 45px;\r\n                input{\r\n                    background: 0 0;\r\n                    border: none;\r\n                }\r\n            }\r\n\r\n            .r_b_img{\r\n                width: 78%;\r\n                .img_input{\r\n                    width: 55%;\r\n                    height: 45px;\r\n                    input{\r\n                        background: 0 0;\r\n                        border: none;\r\n                    }\r\n                }\r\n                .img_img{\r\n                   \r\n                    width: 45%;\r\n                    height: 45px;\r\n                    img{\r\n                        height: 45px;\r\n                    }\r\n\r\n                    display: flex;\r\n                    justify-content: center;\r\n                }\r\n                display: flex;\r\n                justify-content: space-between;\r\n            }\r\n            .r_b_moblie{\r\n                width: 78%;\r\n                .mobile_input{\r\n                    width: 55%;\r\n                    height: 45px;\r\n                    input{\r\n                        background: 0 0;\r\n                        border: none;\r\n                    }\r\n                }\r\n                .mobile_button{\r\n                    width: 45%;\r\n                    height: 45px;\r\n                    button{\r\n                        background: #F0F8FF;\r\n                        border: none;\r\n                    }\r\n                    display: flex;\r\n                    justify-content: center;\r\n                }\r\n                display: flex;\r\n                justify-content: space-between;\r\n            }\r\n            \r\n        }\r\n        .r_b_target{\r\n            height: 50px;\r\n            margin: 15px auto;\r\n            display: flex;\r\n            justify-content:flex-end;\r\n        \r\n            p{\r\n                font-size: 16px;\r\n            }\r\n        \r\n        }\r\n        \r\n    }\r\n</style>\r\n"]}]}